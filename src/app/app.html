<div class="container">
  <h1>ğŸ® Gestor de Videojuegos</h1>

  <!-- Formulario -->
  <form (ngSubmit)="guardar()" #formulario="ngForm" class="formulario">
    <input type="text" [(ngModel)]="videojuegoActual.nombre" name="nombre" placeholder="Nombre del juego" required
      minlength="2" maxlength="50">

    <input type="text" [(ngModel)]="videojuegoActual.genero" name="genero" placeholder="GÃ©nero" required maxlength="30">

    <input type="number" [(ngModel)]="videojuegoActual.anio" name="aÃ±o" min="1970" max="2030" required>

    <button type="submit" [disabled]="!formulario.valid">
      {{ modoEdicion ? 'Actualizar' : 'Agregar' }}
    </button>

    @if(modoEdicion){
      <button type="button" (click)="cancelarEdicion()">Cancelar</button>
    }

    
  </form>

  <!-- Carga o error -->
  @if ( cargando) {
  <div class="estado">Cargando juegos...</div>

  }
  @if(error){
  <div class="estado error">Error al cargar los juegos: {{ error }}</div>
  }

  <!-- Lista -->
  @if(!cargando && !error){
  <div class="lista">
    <h2>Lista de Videojuegos ({{ videojuegos.length }})</h2>
    @if(videojuegos.length === 0){
    <div class="estado">
      No hay videojuegos aÃºn. Â¡Agrega uno!
    </div>
    }
    </div>
  }

  

    @for (v of videojuegos; track v) {

    <div class="info">
      <strong>{{ v.nombre }}</strong> | {{ v.genero }} | {{ v.anio }}
    </div>
    <div class="acciones">
      <button (click)="editar(v)" class="btn-edit">âœï¸ Editar</button>
      <button (click)="eliminar(v.id!)" class="btn-delete">ğŸ—‘ï¸ Eliminar</button>

    </div>
    }


</div>